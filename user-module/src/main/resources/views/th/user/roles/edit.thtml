<html xmlns:th="http://www.thymeleaf.org">
<head>
	<title th:fragment="title">Role overview</title>
</head>
<body th:fragment="content">

<div th:if="${existing}">
	editing existing
</div>
<form method="post" th:action="@{${@adminWeb.path('/roles/save')}}" th:object="${role}">
	<input type="hidden" th:field="*{id}"/>
	<input type="hidden" th:field="*{name}" th:if="${existing}"/>

	<div th:unless="${existing}">
		<label>Id</label>
		<input type="text" th:field="*{name}" />
	</div>

	<div>
		<label>Name</label>
		<input type="text" th:field="*{description}"/>
	</div>

	<div th:each="permissionGroup:${permissionGroups}">
		<p th:text="${permissionGroup.title}">Permission group</p>
		<ul>
			<li th:each="permission:${permissionGroup.permissions}">
				<input type="checkbox"
				       th:field="*{permissions}"
				       th:value="${permission.name}"/>
				<label th:text="${permission.name}"></label>
			</li>
		</ul>
	</div>


	<input type="submit" value="Save"/>

	<a th:href="@{${@adminWeb.path('/roles')}}">Cancel</a>
</form>

</body>
</html>